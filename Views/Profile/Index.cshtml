@model IEnumerable<ProfileViewModel>
@{
    ViewData["Title"] = "Usuarios";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<environment include="Development">
    <link href="~/css/animate.css" rel="stylesheet">
</environment>
<environment exclude="Development">
    <link href="~/css/animate.css" rel="stylesheet">
</environment>
<div class="wrapper">
    <section class="panel animated slideInUp">
        <header class="panel-heading">
            Lista de Usuarios
        </header>
        <div class="panel-body">
            <a class="btn btn-primary btn-sm" asp-action="Create"><span class="fa fa-user-plus"></span> Crear un usuario</a>
            <table id="profile" class="table table-hover"></table>
        </div>        
    </section>   
</div>


@section Scripts
{
<environment include="Development">
    <script src="~/js/site.js"></script>
</environment>
<environment exclude="Development">
    <script src="~/js/site.js"></script>
</environment>


    <script>
        var profiles = @Html.Raw(Json.Serialize(Model, new Newtonsoft.Json.JsonSerializerSettings { MaxDepth = 1, ReferenceLoopHandling = Newtonsoft.Json.ReferenceLoopHandling.Ignore }));
        $(document).ready(function () {
            $('#profile').datatable({
                columnsHead: ['','Usuario', 'Nombre', 'Apellidos', 'Correo', 'Caja', 'Centro de costo', 'Estado'],
                columnsDisplay: [{ type: 'button', buttons: ['edit', 'remove','otherAction'] },'Username', 'Nombre', 'Apellido', 'Correo', 'cajaDescripcion', 'centrocostoDescripcion', 'Nestado'],
                data: profiles,
                pag: 1,
                rows: 10,
                totalRows: profiles['length'],
                controller: 'profile',
                id:'Username'
            });
        });
    </script>
}